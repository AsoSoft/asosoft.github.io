<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Kurdish Grapheme-to-Phoneme Convertor | AsoSoft</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="../css/site.css" />
	<link rel="stylesheet" href="../css/icons.css" />
	<link rel="stylesheet" href="g2p.css" />
	<link rel="shortcut icon" href="../favicon.ico">
</head>

<body dir="ltr">
	<main>
		<div class="navbar">
			<div class="logo">
				<a href="../"><img src="../css/AsoSoft.svg" height="25" alt="AsoSoft"> <span>AsoSoft</span></a>
			</div>
			<div class="navLinks">
				<ul>
					<li><a href="../applications.html">Applications 〉</a></li>
					<li><span class="selected">G2P Convertor</span></li>
				</ul>
			</div>
		</div>
		<div class="contents">
			<h1>Kurdish Grapheme-to-Phoneme Convertor</h1>
			<div class="nContainer">
				<div class="nInput">
					<label>Input Central Kurdish text (Graphemes in Arabic Script):</label>
					<textarea id="txtInput" placeholder="دەقێکی کوردی بخەرە ئێرە" spellcheck="false">بووین - درێژیی - درێژاییی - تویوور - وووهان
گرتن - کوردستان -گرفت - دەکرد
برنج - سەرنج - سەرنجێک - خستتە خوارەوە
تۆ خەوت بینی. مامم خەوت.
ئەمڕۆ و دوێنێ لەسەر کێشەی زەویوزار 25 کەسی تریش بریندار بوون.</textarea>
					<button class="button" id="btnConvert">Convert</button>
					<button class="button" id="btnClear">clear</button>
				</div>
				<div class="loading"></div>
				<div id="results">
					<div class="detail">
						<div class="menu">
							<div class="item" id="mItem1">Syllabified Phonemes</div>
							<div class="item" id="mItem2">IPA</div>
							<div class="item" id="mItem3">Hawar</div>
							<div class="item" id="mItem4">Phonemes</div>
						</div>
						<div id="tab1" class="tab">
							<div class="">
								<div class="">
									<input type="checkbox" id="chkMergeU" name="chkMergeU" checked>
									<label for="chkMergeU">Merge conjunctive "و" with preceding word</label>
								</div>
								<div class="">
									<input type="checkbox" id="chkNumbers" name="chkNumbers" checked>
									<label for="chkNumbers">Convert numbers to words</label>
								</div>
							</div>
							<div id="textOut1" contenteditable="true" class="resultDiv" spellcheck="false"></div>
						</div>
						<div id="tab2" class="tab">
							<div id="textOut2" contenteditable="true" class="resultDiv" spellcheck="false"></div>
						</div>
						<div id="tab3" class="tab">
							<div id="textOut3" contenteditable="true" class="resultDiv" spellcheck="false"></div>
						</div>
						<div id="tab4" class="tab">
							<div id="textOut4" contenteditable="true" class="resultDiv" spellcheck="false"></div>
						</div>
					</div>
				</div>
			</div>
			<h2>Background Study:</h2>
			<div>
				<div class="title">
					<a href="https://www.sciencedirect.com/science/article/abs/pii/S0885230821000292">
						<span class="icon pdf"></span>
					</a>
					Automated Grapheme-to-Phoneme Conversion for Central Kurdish based on Optimality Theory
				</div>
				<div class="authors">
					<ul>
						<li><a href="https://scholar.google.com/citations?user=sHeSKFIAAAAJ">Aso Mahmudi</a></li>
						<li><a href="https://scholar.google.com/citations?user=Jf6cd6UAAAAJ">Hadi Veisi</a></li>
					</ul>
				</div>
			</div>
			<h3>Cite:</h3>
			<pre>
@article{mahmudi2021automatic,
    title={Automated grapheme-to-phoneme conversion for Central Kurdish based on optimality theory},
    author={Mahmudi, Aso and Veisi, Hadi},
    journal={Computer Speech \& Language},
    volume={70},
    pages={101222},
    year={2021},
    publisher={Elsevier}
}
</pre>
			<div>
				<p>Kurdish G2P Dataset:
					<a class="tag" href="https://github.com/AsoSoft/Kurdish-G2P-dataset">Github</a>
					<a class="tag" href="https://zenodo.org/badge/latestdoi/172930780"><img src="https://zenodo.org/badge/172930780.svg" alt="DOI"></a>
				</p>
			</div>
			<h3>Abstract:</h3>
			<div class="abstract">
				<div>
					The writing system of Central Kurdish features three cases in which there is no one-to-one mapping between the orthographical letters and the phonemes of the language. Consequently, the written words including these cases may be pronounced in multiple
					ways. The process of finding the correct pronunciation of written words is called Grapheme-to-Phoneme (G2P) conversion and is a key step in natural language processing tasks such as speech synthesis. As Central Kurdish is a low-resourced language,
					we present a G2P conversion method based on the phonological rules of the language, rather than pronunciation dictionaries and data-driven learning methods. After reviewing the phonology and alphabet of the language through the framework of Optimality
					Theory, we generate all possible pronunciations. Then, by specifying and applying ranked constraints, we eliminate undesirable candidates so as to keep only one well-formed pronunciation per word. The evaluation of our proposed method on two datasets
					resulted in 0.75% of overall Phoneme Error Rate (PER) and achieved 94.71% precision in the detection of the short vowel /i/ and 100% of accuracy in the conversion of the letters “ی” and “و”. Analyzing these results suggests that there is no need
					for additional new letters in the current orthographic system of Central Kurdish. This approach also enables us to have a ranked suggestion list for the manual checking of the few unresolved ambiguous situations.
				</div>
				<div>
					<b>Keywords:</b> Grapheme-to-phoneme conversion, Optimality Theory, Central Kurdish, Kurdish phonology
				</div>
			</div>
		</div>
		<footer>
			<p>
				<a href="https://twitter.com/asosoft"><img src="../css/twitter.svg" class="icon"></a>
				<a href="https://facebook.com/asosoftku"><img src="../css/facebook.svg" class="icon"></a>
				<a href="https://instagram.com/asosoftco"><img src="../css/instagram.svg" class="icon"></a>
			</p>
			<p>
				&copy; 2021 <a href="http://asosoft.com">AsoSoft</a>
			</p>
		</footer>
	</main>
	<script>
		$(document).ready(function() {
			$('.loading').hide();
			$('#results').hide();
			$('#btnConvert').click(function() {
				convert();
			});
		});

		function changeTab(n) {
			$('.item').removeClass('active');
			$('#mItem' + n).addClass('active');
			$('.tab').hide();
			$('#tab' + n).show();
		}
		$('#mItem1').click(function() {
			changeTab(1)
		});
		$('#mItem2').click(function() {
			changeTab(2)
		});
		$('#mItem3').click(function() {
			changeTab(3)
		});
		$('#mItem4').click(function() {
			changeTab(4)
		});
		$('#btnClear').click(function() {
			$('#txtInput').val('');
			$('#results').hide();
			$('.ambigContent').remove();
		});

		function convert() {
			$('#results').hide();
			$('.ambigContent').remove();
			if ($('#txtInput').val().trim()) {
				$('.loading').show('fast');

				$.post('https://service.kurdinus.com/g2p/convert', {
						text: $('#txtInput').val().trim(),
						mergeU: $('#chkMergeU').prop('checked'),
						convertNumbers: $('#chkNumbers').prop('checked'),
						returnOneWord: false
					},
					function(data) {
						$('.loading').hide();
						$('#results').show('fast');
						$('#textOut1').html(showPH(data['ph']));
						$('#textOut2').html(showPH(data['ipa']));
						$('#textOut3').html(showPH(data['hawar']));
						$('#textOut4').html(simplePhonems(showPH(data['ph'])));
						$('.ambig').each(function() {
							$(this).click(function() {
								suggest($(this))
							});
						});
						changeTab(3);
					});
			}
		}
		const w = '’ˈ·ʔbptcçḧxdrřzjsşƹẍfvqkglłmnwuûohyaeêiîĝđüôõʒʃħɾʒʃʕɣɫʊo̞äɛɪŋ͡';

		function showPH(text) {
			text = '<p>' + text.replace(/\n/g, '</p><p>') + '</p>';
			return text.replace(
				new RegExp('([' + w + ']+)¶([' + w + '¶]+)', 'g'),
				'<span class=\"ambig\" data-n=\"$2\">$1</span>');
		}
		function simplePhonems(text){
			text = text.replace(/ˈ/g, '');
			text = text.replace(/ł/g, 'ḻ');
			text = text.replace(/ř/g, 'ṟ');
			text = text.replace(/ħ/g, 'ẖ');
			text = text.replace(/ẍ/g, 'x̱');
			text = text.replace(/ƹ/g, '‛');
			text = text.replace(/ʔ/g, '');
			return text;
		}

		function suggest(grapheme) {
			candidates = grapheme.data('n').split('¶');
			$('.curAmbig').removeClass('curAmbig');
			$('.ambigContent').remove();
			grapheme.addClass('curAmbig');
			grapheme.append('<div class="ambigContent"><small>other candidates:</small></div>');
			for (let i = 0; i < candidates.length; i++)
				$('.ambigContent').append('<div class="candidate">' + candidates[i] + '</div>');

			$('.candidate').each(function() {
				$(this).click(function() {
					correct(grapheme, $(this).text())
				});
			});
		}

		function correct(grapheme, candidate) {
			$('.curAmbig').replaceWith(candidate);
			$('.ambigContent').remove();
		}
	</script>
</body>

</html>